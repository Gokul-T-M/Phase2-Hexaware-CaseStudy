Ü
WC:\Users\gokul\OneDrive\Desktop\C#_workspace\AmazeCareSolution\AmazeCare.WEB\Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
builder 
. 
Services 
. #
AddControllersWithViews (
(( )
)) *
;* +
var 

apiBaseUrl 
= 
builder 
. 
Configuration &
[& '
$str' 3
]3 4
;4 5
if		 
(		 
string		 

.		
 
IsNullOrWhiteSpace		 
(		 

apiBaseUrl		 (
)		( )
)		) *
throw

 	
new


 %
InvalidOperationException

 '
(

' (
$str

( G
)

G H
;

H I
if 
( 
! 

apiBaseUrl 
. 
EndsWith 
( 
$str 
) 
) 

apiBaseUrl 
+= 
$str 
; 
builder 
. 
Services 
. 
AddHttpClient 
( 
$str *
,* +
client, 2
=>3 5
{ 
client 

.
 
BaseAddress 
= 
new 
Uri  
(  !

apiBaseUrl! +
)+ ,
;, -
} 
) 
; 
builder 
. 
Services 
. 
AddAuthentication "
(" #(
CookieAuthenticationDefaults# ?
.? @ 
AuthenticationScheme@ T
)T U
. 
	AddCookie 
( 
options 
=> 
{ 
options 
. 
	LoginPath 
= 
$str *
;* +
options 
. 
AccessDeniedPath  
=! "
$str# 1
;1 2
} 
) 
; 
builder 
. 
Services 
. 

AddSession 
( 
) 
; 
var 
app 
= 	
builder
 
. 
Build 
( 
) 
; 
if 
( 
! 
app 
. 	
Environment	 
. 
IsDevelopment "
(" #
)# $
)$ %
{   
app!! 
.!! 
UseExceptionHandler!! 
(!! 
$str!! )
)!!) *
;!!* +
app"" 
."" 
UseHsts"" 
("" 
)"" 
;"" 
}## 
app%% 
.%% 

UseSession%% 
(%% 
)%% 
;%% 
app(( 
.(( 
UseStaticFiles(( 
((( 
)(( 
;(( 
app** 
.** 

UseRouting** 
(** 
)** 
;** 
app,, 
.,, 
UseAuthentication,, 
(,, 
),, 
;,, 
app-- 
.-- 
UseAuthorization-- 
(-- 
)-- 
;-- 
app// 
.// 
MapControllerRoute// 
(// 
name00 
:00 	
$str00
 
,00 
pattern11 
:11 
$str11 6
)116 7
;117 8
app33 
.33 
Run33 
(33 
)33 	
;33	 
Í
mC:\Users\gokul\OneDrive\Desktop\C#_workspace\AmazeCareSolution\AmazeCare.WEB\Models\RegisterAdminViewModel.cs
	namespace 	
	AmazeCare
 
. 
WEB 
. 
Models 
{ 
public 

class "
RegisterAdminViewModel '
{ 
[ 	
Required	 
] 
[ 	
StringLength	 
( 
$num 
) 
] 
public		 
string		 
Name		 
{		 
get		  
;		  !
set		" %
;		% &
}		' (
[ 	
Required	 
] 
[ 	
EmailAddress	 
] 
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
[ 	
Required	 
] 
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} ﬂ
eC:\Users\gokul\OneDrive\Desktop\C#_workspace\AmazeCareSolution\AmazeCare.WEB\Models\ErrorViewModel.cs
	namespace 	
	AmazeCare
 
. 
WEB 
. 
Models 
{ 
public 

class 
ErrorViewModel 
{ 
public 
string 
? 
	RequestId  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
bool 
ShowRequestId !
=>" $
!% &
string& ,
., -
IsNullOrEmpty- :
(: ;
	RequestId; D
)D E
;E F
} 
}		 Ω
zC:\Users\gokul\OneDrive\Desktop\C#_workspace\AmazeCareSolution\AmazeCare.WEB\Models\AdminPatient\PatientUpdateViewModel.cs
	namespace 	
	AmazeCare
 
. 
WEB 
. 
Models 
. 
AdminPatient +
{ 
public 

class "
PatientUpdateViewModel '
{ 
[ 	
Required	 
] 
public 
int 
	PatientId 
{ 
get "
;" #
set$ '
;' (
}) *
[

 	
Required

	 
]

 
[ 	
StringLength	 
( 
$num 
) 
] 
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
[ 	
EmailAddress	 
] 
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
Required	 
] 
[ 	
Phone	 
] 
public 
string 
ContactNumber #
{$ %
get& )
;) *
set+ .
;. /
}0 1
[ 	
Required	 
] 
public 
DateTime 
DateOfBirth #
{$ %
get& )
;) *
set+ .
;. /
}0 1
[ 	
Required	 
] 
[ 	
RegularExpression	 
( 
$str .
). /
]/ 0
public 
string 
Gender 
{ 
get "
;" #
set$ '
;' (
}) *
[ 	
StringLength	 
( 
$num 
) 
] 
public 
string 
? "
PreviousMedicalRecords -
{. /
get0 3
;3 4
set5 8
;8 9
}: ;
}   
}!! Ï
|C:\Users\gokul\OneDrive\Desktop\C#_workspace\AmazeCareSolution\AmazeCare.WEB\Models\AdminPatient\PatientResponseViewModel.cs
	namespace 	
	AmazeCare
 
. 
WEB 
. 
Models 
. 
AdminPatient +
{ 
public 

class $
PatientResponseViewModel )
{ 
public 
int 
	PatientId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
ContactNumber #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public		 
DateTime		 
DateOfBirth		 #
{		$ %
get		& )
;		) *
set		+ .
;		. /
}		0 1
public

 
string

 
Gender

 
{

 
get

 "
;

" #
set

$ '
;

' (
}

) *
public 
string "
PreviousMedicalRecords ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
} 
} ù
zC:\Users\gokul\OneDrive\Desktop\C#_workspace\AmazeCareSolution\AmazeCare.WEB\Models\AdminPatient\PatientCreateViewModel.cs
	namespace 	
	AmazeCare
 
. 
WEB 
. 
Models 
. 
AdminPatient +
{ 
public 

class "
PatientCreateViewModel '
{ 
[ 	
Required	 
] 
[ 	
StringLength	 
( 
$num 
, 
ErrorMessage '
=( )
$str* U
)U V
]V W
public		 
string		 
Name		 
{		 
get		  
;		  !
set		" %
;		% &
}		' (
[ 	
Required	 
] 
[ 	
EmailAddress	 
( 
ErrorMessage "
=# $
$str% <
)< =
]= >
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
[ 	
Required	 
] 
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
Required	 
] 
[ 	
Phone	 
( 
ErrorMessage 
= 
$str 7
)7 8
]8 9
public 
string 
ContactNumber #
{$ %
get& )
;) *
set+ .
;. /
}0 1
[ 	
Required	 
] 
public 
DateTime 
DateOfBirth #
{$ %
get& )
;) *
set+ .
;. /
}0 1
[ 	
Required	 
] 
[ 	
RegularExpression	 
( 
$str .
,. /
ErrorMessage0 <
== >
$str? f
)f g
]g h
public 
string 
Gender 
{ 
get "
;" #
set$ '
;' (
}) *
[ 	
StringLength	 
( 
$num 
) 
] 
public   
string   
?   "
PreviousMedicalRecords   -
{  . /
get  0 3
;  3 4
set  5 8
;  8 9
}  : ;
}!! 
}"" ∞
jC:\Users\gokul\OneDrive\Desktop\C#_workspace\AmazeCareSolution\AmazeCare.WEB\Models\AdminLoginViewModel.cs
	namespace 	
	AmazeCare
 
. 
WEB 
. 
Models 
{ 
public 

class 
AdminLoginViewModel $
{ 
[ 	
Required	 
] 
[ 	
EmailAddress	 
] 
public		 
string		 
Email		 
{		 
get		 !
;		! "
set		# &
;		& '
}		( )
[ 	
Required	 
] 
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} Ü
xC:\Users\gokul\OneDrive\Desktop\C#_workspace\AmazeCareSolution\AmazeCare.WEB\Models\AdminDoctor\DoctorUpdateViewModel.cs
	namespace 	
	AmazeCare
 
. 
WEB 
. 
Models 
. 
AdminDoctor *
{ 
public 

class !
DoctorUpdateViewModel &
{ 
[		 	
Required			 
]		 
public

 
int

 
DoctorId

 
{

 
get

 !
;

! "
set

# &
;

& '
}

( )
[ 	
Required	 
, 
StringLength 
(  
$num  "
)" #
]# $
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
[ 	
Required	 
, 
EmailAddress 
]  
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
[ 	
Required	 
] 
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
Required	 
] 
public 
string 
	Specialty 
{  !
get" %
;% &
set' *
;* +
}, -
[ 	
Required	 
, 
Range 
( 
$num 
, 
$num 
)  
]  !
public 
int 

Experience 
{ 
get  #
;# $
set% (
;( )
}* +
[ 	
Required	 
] 
public 
string 
Qualification #
{$ %
get& )
;) *
set+ .
;. /
}0 1
[ 	
Required	 
] 
public 
string 
Designation !
{" #
get$ '
;' (
set) ,
;, -
}. /
}   
}"" Ÿ
zC:\Users\gokul\OneDrive\Desktop\C#_workspace\AmazeCareSolution\AmazeCare.WEB\Models\AdminDoctor\DoctorResponseViewModel.cs
	namespace 	
	AmazeCare
 
. 
WEB 
. 
Models 
. 
AdminDoctor *
{ 
public 

class #
DoctorResponseViewModel (
{ 
public 
int 
DoctorId 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
	Specialty 
{  !
get" %
;% &
set' *
;* +
}, -
public		 
int		 

Experience		 
{		 
get		  #
;		# $
set		% (
;		( )
}		* +
public

 
string

 
Qualification

 #
{

$ %
get

& )
;

) *
set

+ .
;

. /
}

0 1
public 
string 
Designation !
{" #
get$ '
;' (
set) ,
;, -
}. /
} 
} π
xC:\Users\gokul\OneDrive\Desktop\C#_workspace\AmazeCareSolution\AmazeCare.WEB\Models\AdminDoctor\DoctorCreateViewModel.cs
	namespace 	
	AmazeCare
 
. 
WEB 
. 
Models 
. 
AdminDoctor *
{ 
public 

class !
DoctorCreateViewModel &
{ 
[ 	
Required	 
, 
StringLength 
(  
$num  "
)" #
]# $
public		 
string		 
Name		 
{		 
get		  
;		  !
set		" %
;		% &
}		' (
[ 	
Required	 
, 
EmailAddress 
]  
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
[ 	
Required	 
] 
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
Required	 
] 
public 
string 
	Specialty 
{  !
get" %
;% &
set' *
;* +
}, -
[ 	
Required	 
, 
Range 
( 
$num 
, 
$num 
)  
]  !
public 
int 

Experience 
{ 
get  #
;# $
set% (
;( )
}* +
[ 	
Required	 
] 
public 
string 
Qualification #
{$ %
get& )
;) *
set+ .
;. /
}0 1
[ 	
Required	 
] 
public 
string 
Designation !
{" #
get$ '
;' (
set) ,
;, -
}. /
} 
}!! ˇ
ÑC:\Users\gokul\OneDrive\Desktop\C#_workspace\AmazeCareSolution\AmazeCare.WEB\Models\AdminAppointment\AppointmentResponseViewModel.cs
	namespace 	
	AmazeCare
 
. 
WEB 
. 
Models 
. 
AdminAppointment /
{ 
public 

class (
AppointmentResponseViewModel -
{ 
public 
int 
AppointmentId  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
PatientName !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
	PatientId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 

DoctorName  
{! "
get# &
;& '
set( +
;+ ,
}- .
public		 
int		 
DoctorId		 
{		 
get		 !
;		! "
set		# &
;		& '
}		( )
public

 
DateTime

 
AppointmentDate

 '
{

( )
get

* -
;

- .
set

/ 2
;

2 3
}

4 5
public 
string 
Symptoms 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
Status 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
ConsultingDetails '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
string 
Prescriptions #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
string 
RecommendedTests &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
} 
} ∆

vC:\Users\gokul\OneDrive\Desktop\C#_workspace\AmazeCareSolution\AmazeCare.WEB\Models\AdminAdmin\AdminUpdateViewModel.cs
	namespace 	
	AmazeCare
 
. 
WEB 
. 
Models 
. 

AdminAdmin )
{ 
public 

class  
AdminUpdateViewModel %
{ 
[ 	
Required	 
] 
public 
int 
AdminId 
{ 
get  
;  !
set" %
;% &
}' (
[

 	
Required

	 
,

 
StringLength

 
(

  
$num

  "
)

" #
]

# $
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
[ 	
Required	 
, 
EmailAddress 
]  
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
[ 	
Required	 
] 
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} ‹
xC:\Users\gokul\OneDrive\Desktop\C#_workspace\AmazeCareSolution\AmazeCare.WEB\Models\AdminAdmin\AdminResponseViewModel.cs
	namespace 	
	AmazeCare
 
. 
WEB 
. 
Models 
. 

AdminAdmin )
{ 
public 

class "
AdminResponseViewModel '
{ 
public 
int 
AdminId 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
} 
}		 ˙
vC:\Users\gokul\OneDrive\Desktop\C#_workspace\AmazeCareSolution\AmazeCare.WEB\Models\AdminAdmin\AdminCreateViewModel.cs
	namespace 	
	AmazeCare
 
. 
WEB 
. 
Models 
. 

AdminAdmin )
{ 
public 

class  
AdminCreateViewModel %
{ 
[ 	
Required	 
, 
StringLength 
(  
$num  "
)" #
]# $
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
[

 	
Required

	 
,

 
EmailAddress

 
]

  
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
[ 	
Required	 
] 
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} ì
jC:\Users\gokul\OneDrive\Desktop\C#_workspace\AmazeCareSolution\AmazeCare.WEB\Controllers\HomeController.cs
	namespace 	
	AmazeCare
 
. 
WEB 
. 
Controllers #
;# $
public 
class 
HomeController 
: 

Controller (
{ 
private		 
readonly		 
ILogger		 
<		 
HomeController		 +
>		+ ,
_logger		- 4
;		4 5
public 

HomeController 
( 
ILogger !
<! "
HomeController" 0
>0 1
logger2 8
)8 9
{ 
_logger 
= 
logger 
; 
} 
public 

IActionResult 
Index 
( 
)  
{ 
return 
View 
( 
) 
; 
} 
public 

IActionResult 
Privacy  
(  !
)! "
{ 
return 
View 
( 
) 
; 
} 
[ 
ResponseCache 
( 
Duration 
= 
$num 
,  
Location! )
=* +!
ResponseCacheLocation, A
.A B
NoneB F
,F G
NoStoreH O
=P Q
trueR V
)V W
]W X
public 

IActionResult 
Error 
( 
)  
{ 
return 
View 
( 
new 
ErrorViewModel &
{' (
	RequestId) 2
=3 4
Activity5 =
.= >
Current> E
?E F
.F G
IdG I
??J L
HttpContextM X
.X Y
TraceIdentifierY h
}i j
)j k
;k l
} 
} ¸o
rC:\Users\gokul\OneDrive\Desktop\C#_workspace\AmazeCareSolution\AmazeCare.WEB\Controllers\AdminPatientController.cs
	namespace 	
	AmazeCare
 
. 
WEB 
. 
Controllers #
{ 
public 

class "
AdminPatientController '
:( )

Controller* 4
{ 
private 
readonly 

HttpClient #
_httpClient$ /
;/ 0
public

 "
AdminPatientController

 %
(

% &
IHttpClientFactory

& 8
httpClientFactory

9 J
)

J K
{ 	
_httpClient 
= 
httpClientFactory +
.+ ,
CreateClient, 8
(8 9
$str9 D
)D E
;E F
} 	
public 
async 
Task 
< 
IActionResult '
>' (
Index) .
(. /
)/ 0
{ 	
var 
token 
= 
HttpContext #
.# $
Session$ +
.+ ,
	GetString, 5
(5 6
$str6 ?
)? @
;@ A
if 
( 
! 
string 
. 
IsNullOrEmpty %
(% &
token& +
)+ ,
), -
{ 
_httpClient 
. !
DefaultRequestHeaders 1
.1 2
Authorization2 ?
=@ A
new 
System 
. 
Net "
." #
Http# '
.' (
Headers( /
./ 0%
AuthenticationHeaderValue0 I
(I J
$strJ R
,R S
tokenT Y
)Y Z
;Z [
} 
var 
patients 
= 
await  
_httpClient! ,
., -
GetFromJsonAsync- =
<= >
List> B
<B C$
PatientResponseViewModelC [
>[ \
>\ ]
(] ^
$str^ o
)o p
;p q
return 
View 
( 
patients  
)  !
;! "
} 	
public 
async 
Task 
< 
IActionResult '
>' (
Details) 0
(0 1
int1 4
id5 7
)7 8
{ 	
var   
token   
=   
HttpContext   #
.  # $
Session  $ +
.  + ,
	GetString  , 5
(  5 6
$str  6 ?
)  ? @
;  @ A
if!! 
(!! 
!!! 
string!! 
.!! 
IsNullOrEmpty!! %
(!!% &
token!!& +
)!!+ ,
)!!, -
{"" 
_httpClient## 
.## !
DefaultRequestHeaders## 1
.##1 2
Authorization##2 ?
=##@ A
new$$ 
System$$ 
.$$ 
Net$$ "
.$$" #
Http$$# '
.$$' (
Headers$$( /
.$$/ 0%
AuthenticationHeaderValue$$0 I
($$I J
$str$$J R
,$$R S
token$$T Y
)$$Y Z
;$$Z [
}%% 
var'' 
patient'' 
='' 
await'' 
_httpClient''  +
.''+ ,
GetFromJsonAsync'', <
<''< =$
PatientResponseViewModel''= U
>''U V
(''V W
$"''W Y
$str''Y i
{''i j
id''j l
}''l m
"''m n
)''n o
;''o p
if(( 
((( 
patient(( 
==(( 
null(( 
)((  
return((! '
NotFound((( 0
(((0 1
)((1 2
;((2 3
return)) 
View)) 
()) 
patient)) 
)))  
;))  !
}** 	
public.. 
IActionResult.. 
Create.. #
(..# $
)..$ %
=>..& (
View..) -
(..- .
)... /
;../ 0
[11 	
HttpPost11	 
]11 
public22 
async22 
Task22 
<22 
IActionResult22 '
>22' (
Create22) /
(22/ 0"
PatientCreateViewModel220 F
model22G L
)22L M
{33 	
if44 
(44 
!44 

ModelState44 
.44 
IsValid44 #
)44# $
return44% +
View44, 0
(440 1
model441 6
)446 7
;447 8
var66 
response66 
=66 
await66  
_httpClient66! ,
.66, -
PostAsJsonAsync66- <
(66< =
$str66= N
,66N O
model66P U
)66U V
;66V W
if77 
(77 
response77 
.77 
IsSuccessStatusCode77 ,
)77, -
return88 
RedirectToAction88 '
(88' (
nameof88( .
(88. /
Index88/ 4
)884 5
)885 6
;886 7

ModelState:: 
.:: 
AddModelError:: $
(::$ %
$str::% '
,::' (
$str::) D
)::D E
;::E F
return;; 
View;; 
(;; 
model;; 
);; 
;;; 
}<< 	
public?? 
async?? 
Task?? 
<?? 
IActionResult?? '
>??' (
Edit??) -
(??- .
int??. 1
id??2 4
)??4 5
{@@ 	
varAA 
tokenAA 
=AA 
HttpContextAA #
.AA# $
SessionAA$ +
.AA+ ,
	GetStringAA, 5
(AA5 6
$strAA6 ?
)AA? @
;AA@ A
ifBB 
(BB 
!BB 
stringBB 
.BB 
IsNullOrEmptyBB %
(BB% &
tokenBB& +
)BB+ ,
)BB, -
{CC 
_httpClientDD 
.DD !
DefaultRequestHeadersDD 1
.DD1 2
AuthorizationDD2 ?
=DD@ A
newEE 
SystemEE 
.EE 
NetEE "
.EE" #
HttpEE# '
.EE' (
HeadersEE( /
.EE/ 0%
AuthenticationHeaderValueEE0 I
(EEI J
$strEEJ R
,EER S
tokenEET Y
)EEY Z
;EEZ [
}FF 
varHH 
patientHH 
=HH 
awaitHH 
_httpClientHH  +
.HH+ ,
GetFromJsonAsyncHH, <
<HH< =$
PatientResponseViewModelHH= U
>HHU V
(HHV W
$"HHW Y
$strHHY i
{HHi j
idHHj l
}HHl m
"HHm n
)HHn o
;HHo p
ifII 
(II 
patientII 
==II 
nullII 
)II  
returnII! '
NotFoundII( 0
(II0 1
)II1 2
;II2 3
varKK 
updatedPatientKK 
=KK  
newKK! $"
PatientUpdateViewModelKK% ;
{LL 
	PatientIdMM 
=MM 
patientMM #
.MM# $
	PatientIdMM$ -
,MM- .
NameNN 
=NN 
patientNN 
.NN 
NameNN #
,NN# $
EmailOO 
=OO 
patientOO 
.OO  
EmailOO  %
,OO% &
PasswordPP 
=PP 
$strPP 
,PP 
ContactNumberQQ 
=QQ 
patientQQ  '
.QQ' (
ContactNumberQQ( 5
,QQ5 6
DateOfBirthRR 
=RR 
patientRR %
.RR% &
DateOfBirthRR& 1
,RR1 2
GenderSS 
=SS 
patientSS  
.SS  !
GenderSS! '
,SS' ("
PreviousMedicalRecordsTT &
=TT' (
patientTT) 0
.TT0 1"
PreviousMedicalRecordsTT1 G
}UU 
;UU 
returnWW 
ViewWW 
(WW 
updatedPatientWW &
)WW& '
;WW' (
}XX 	
[[[ 	
HttpPost[[	 
][[ 
public\\ 
async\\ 
Task\\ 
<\\ 
IActionResult\\ '
>\\' (
Edit\\) -
(\\- ."
PatientUpdateViewModel\\. D
model\\E J
)\\J K
{]] 	
if^^ 
(^^ 
!^^ 

ModelState^^ 
.^^ 
IsValid^^ #
)^^# $
return^^% +
View^^, 0
(^^0 1
model^^1 6
)^^6 7
;^^7 8
var`` 
token`` 
=`` 
HttpContext`` #
.``# $
Session``$ +
.``+ ,
	GetString``, 5
(``5 6
$str``6 ?
)``? @
;``@ A
ifaa 
(aa 
!aa 
stringaa 
.aa 
IsNullOrEmptyaa %
(aa% &
tokenaa& +
)aa+ ,
)aa, -
{bb 
_httpClientcc 
.cc !
DefaultRequestHeaderscc 1
.cc1 2
Authorizationcc2 ?
=cc@ A
newdd 
Systemdd 
.dd 
Netdd "
.dd" #
Httpdd# '
.dd' (
Headersdd( /
.dd/ 0%
AuthenticationHeaderValuedd0 I
(ddI J
$strddJ R
,ddR S
tokenddT Y
)ddY Z
;ddZ [
}ee 
vargg 
responsegg 
=gg 
awaitgg  
_httpClientgg! ,
.gg, -
PutAsJsonAsyncgg- ;
(gg; <
$"gg< >
$strgg> N
{ggN O
modelggO T
.ggT U
	PatientIdggU ^
}gg^ _
"gg_ `
,gg` a
modelggb g
)ggg h
;ggh i
ifhh 
(hh 
responsehh 
.hh 
IsSuccessStatusCodehh ,
)hh, -
returnii 
RedirectToActionii '
(ii' (
nameofii( .
(ii. /
Indexii/ 4
)ii4 5
)ii5 6
;ii6 7
varll 
errorll 
=ll 
awaitll 
responsell &
.ll& '
Contentll' .
.ll. /
ReadAsStringAsyncll/ @
(ll@ A
)llA B
;llB C

ModelStatemm 
.mm 
AddModelErrormm $
(mm$ %
$strmm% '
,mm' (
$"mm) +
$strmm+ O
{mmO P
errormmP U
}mmU V
"mmV W
)mmW X
;mmX Y
returnnn 
Viewnn 
(nn 
modelnn 
)nn 
;nn 
}pp 	
publicss 
asyncss 
Taskss 
<ss 
IActionResultss '
>ss' (
Deletess) /
(ss/ 0
intss0 3
idss4 6
)ss6 7
{tt 	
varuu 
tokenuu 
=uu 
HttpContextuu #
.uu# $
Sessionuu$ +
.uu+ ,
	GetStringuu, 5
(uu5 6
$struu6 ?
)uu? @
;uu@ A
ifvv 
(vv 
!vv 
stringvv 
.vv 
IsNullOrEmptyvv %
(vv% &
tokenvv& +
)vv+ ,
)vv, -
{ww 
_httpClientxx 
.xx !
DefaultRequestHeadersxx 1
.xx1 2
Authorizationxx2 ?
=xx@ A
newyy 
Systemyy 
.yy 
Netyy "
.yy" #
Httpyy# '
.yy' (
Headersyy( /
.yy/ 0%
AuthenticationHeaderValueyy0 I
(yyI J
$stryyJ R
,yyR S
tokenyyT Y
)yyY Z
;yyZ [
}zz 
var|| 
patient|| 
=|| 
await|| 
_httpClient||  +
.||+ ,
GetFromJsonAsync||, <
<||< =$
PatientResponseViewModel||= U
>||U V
(||V W
$"||W Y
$str||Y i
{||i j
id||j l
}||l m
"||m n
)||n o
;||o p
if}} 
(}} 
patient}} 
==}} 
null}} 
)}}  
return}}! '
NotFound}}( 0
(}}0 1
)}}1 2
;}}2 3
return~~ 
View~~ 
(~~ 
patient~~ 
)~~  
;~~  !
} 	
[
ÇÇ 	
HttpPost
ÇÇ	 
,
ÇÇ 

ActionName
ÇÇ 
(
ÇÇ 
$str
ÇÇ &
)
ÇÇ& '
]
ÇÇ' (
public
ÉÉ 
async
ÉÉ 
Task
ÉÉ 
<
ÉÉ 
IActionResult
ÉÉ '
>
ÉÉ' (
DeleteConfirmed
ÉÉ) 8
(
ÉÉ8 9
int
ÉÉ9 <
id
ÉÉ= ?
)
ÉÉ? @
{
ÑÑ 	
var
ÖÖ 
token
ÖÖ 
=
ÖÖ 
HttpContext
ÖÖ #
.
ÖÖ# $
Session
ÖÖ$ +
.
ÖÖ+ ,
	GetString
ÖÖ, 5
(
ÖÖ5 6
$str
ÖÖ6 ?
)
ÖÖ? @
;
ÖÖ@ A
if
ÜÜ 
(
ÜÜ 
!
ÜÜ 
string
ÜÜ 
.
ÜÜ 
IsNullOrEmpty
ÜÜ %
(
ÜÜ% &
token
ÜÜ& +
)
ÜÜ+ ,
)
ÜÜ, -
{
áá 
_httpClient
àà 
.
àà #
DefaultRequestHeaders
àà 1
.
àà1 2
Authorization
àà2 ?
=
àà@ A
new
ââ 
System
ââ 
.
ââ 
Net
ââ "
.
ââ" #
Http
ââ# '
.
ââ' (
Headers
ââ( /
.
ââ/ 0'
AuthenticationHeaderValue
ââ0 I
(
ââI J
$str
ââJ R
,
ââR S
token
ââT Y
)
ââY Z
;
ââZ [
}
ää 
var
åå 
response
åå 
=
åå 
await
åå  
_httpClient
åå! ,
.
åå, -
DeleteAsync
åå- 8
(
åå8 9
$"
åå9 ;
$str
åå; K
{
ååK L
id
ååL N
}
ååN O
"
ååO P
)
ååP Q
;
ååQ R
return
çç 
RedirectToAction
çç #
(
çç# $
nameof
çç$ *
(
çç* +
Index
çç+ 0
)
çç0 1
)
çç1 2
;
çç2 3
}
éé 	
}
ëë 
}íí Ê}
qC:\Users\gokul\OneDrive\Desktop\C#_workspace\AmazeCareSolution\AmazeCare.WEB\Controllers\AdminDoctorController.cs
	namespace 	
	AmazeCare
 
. 
WEB 
. 
Controllers #
{ 
[ 
	Authorize 
( 
Roles 
= 
$str 
) 
]  
public		 

class		 !
AdminDoctorController		 &
:		' (

Controller		) 3
{

 
private 
readonly 

HttpClient #
_httpClient$ /
;/ 0
public !
AdminDoctorController $
($ %
IHttpClientFactory% 7
httpClientFactory8 I
)I J
{ 	
_httpClient 
= 
httpClientFactory +
.+ ,
CreateClient, 8
(8 9
$str9 D
)D E
;E F
} 	
public 
async 
Task 
< 
IActionResult '
>' (
Index) .
(. /
)/ 0
{ 	
var 
token 
= 
HttpContext #
.# $
Session$ +
.+ ,
	GetString, 5
(5 6
$str6 ?
)? @
;@ A
if 
( 
! 
string 
. 
IsNullOrEmpty %
(% &
token& +
)+ ,
), -
{ 
_httpClient 
. !
DefaultRequestHeaders 1
.1 2
Authorization2 ?
=@ A
new 
System 
. 
Net "
." #
Http# '
.' (
Headers( /
./ 0%
AuthenticationHeaderValue0 I
(I J
$strJ R
,R S
tokenT Y
)Y Z
;Z [
} 
var 
doctors 
= 
await 
_httpClient  +
.+ ,
GetFromJsonAsync, <
<< =
List= A
<A B#
DoctorResponseViewModelB Y
>Y Z
>Z [
([ \
$str\ l
)l m
;m n
return 
View 
( 
doctors 
)  
;  !
} 	
public!! 
async!! 
Task!! 
<!! 
IActionResult!! '
>!!' (
Details!!) 0
(!!0 1
int!!1 4
id!!5 7
)!!7 8
{"" 	
var## 
token## 
=## 
HttpContext## #
.### $
Session##$ +
.##+ ,
	GetString##, 5
(##5 6
$str##6 ?
)##? @
;##@ A
if$$ 
($$ 
!$$ 
string$$ 
.$$ 
IsNullOrEmpty$$ %
($$% &
token$$& +
)$$+ ,
)$$, -
{%% 
_httpClient&& 
.&& !
DefaultRequestHeaders&& 1
.&&1 2
Authorization&&2 ?
=&&@ A
new'' 
System'' 
.'' 
Net'' "
.''" #
Http''# '
.''' (
Headers''( /
.''/ 0%
AuthenticationHeaderValue''0 I
(''I J
$str''J R
,''R S
token''T Y
)''Y Z
;''Z [
}(( 
var** 
doctor** 
=** 
await** 
_httpClient** *
.*** +
GetFromJsonAsync**+ ;
<**; <#
DoctorResponseViewModel**< S
>**S T
(**T U
$"**U W
$str**W f
{**f g
id**g i
}**i j
"**j k
)**k l
;**l m
if++ 
(++ 
doctor++ 
==++ 
null++ 
)++ 
return++  &
NotFound++' /
(++/ 0
)++0 1
;++1 2
return,, 
View,, 
(,, 
doctor,, 
),, 
;,,  
}-- 	
public00 
IActionResult00 
Create00 #
(00# $
)00$ %
=>00& (
View00) -
(00- .
)00. /
;00/ 0
[33 	
HttpPost33	 
]33 
[44 	$
ValidateAntiForgeryToken44	 !
]44! "
public55 
async55 
Task55 
<55 
IActionResult55 '
>55' (
Create55) /
(55/ 0!
DoctorCreateViewModel550 E
model55F K
)55K L
{66 	
if77 
(77 
!77 

ModelState77 
.77 
IsValid77 #
)77# $
return77% +
View77, 0
(770 1
model771 6
)776 7
;777 8
var99 
token99 
=99 
HttpContext99 #
.99# $
Session99$ +
.99+ ,
	GetString99, 5
(995 6
$str996 ?
)99? @
;99@ A
if:: 
(:: 
!:: 
string:: 
.:: 
IsNullOrEmpty:: %
(::% &
token::& +
)::+ ,
)::, -
{;; 
_httpClient<< 
.<< !
DefaultRequestHeaders<< 1
.<<1 2
Authorization<<2 ?
=<<@ A
new== 
System== 
.== 
Net== "
.==" #
Http==# '
.==' (
Headers==( /
.==/ 0%
AuthenticationHeaderValue==0 I
(==I J
$str==J R
,==R S
token==T Y
)==Y Z
;==Z [
}>> 
var@@ 
response@@ 
=@@ 
await@@  
_httpClient@@! ,
.@@, -
PostAsJsonAsync@@- <
(@@< =
$str@@= M
,@@M N
model@@O T
)@@T U
;@@U V
ifAA 
(AA 
responseAA 
.AA 
IsSuccessStatusCodeAA ,
)AA, -
returnBB 
RedirectToActionBB '
(BB' (
nameofBB( .
(BB. /
IndexBB/ 4
)BB4 5
)BB5 6
;BB6 7

ModelStateDD 
.DD 
AddModelErrorDD $
(DD$ %
$strDD% '
,DD' (
$strDD) C
)DDC D
;DDD E
returnEE 
ViewEE 
(EE 
modelEE 
)EE 
;EE 
}FF 	
publicII 
asyncII 
TaskII 
<II 
IActionResultII '
>II' (
EditII) -
(II- .
intII. 1
idII2 4
)II4 5
{JJ 	
varKK 
tokenKK 
=KK 
HttpContextKK #
.KK# $
SessionKK$ +
.KK+ ,
	GetStringKK, 5
(KK5 6
$strKK6 ?
)KK? @
;KK@ A
ifLL 
(LL 
!LL 
stringLL 
.LL 
IsNullOrEmptyLL %
(LL% &
tokenLL& +
)LL+ ,
)LL, -
{MM 
_httpClientNN 
.NN !
DefaultRequestHeadersNN 1
.NN1 2
AuthorizationNN2 ?
=NN@ A
newOO 
SystemOO 
.OO 
NetOO "
.OO" #
HttpOO# '
.OO' (
HeadersOO( /
.OO/ 0%
AuthenticationHeaderValueOO0 I
(OOI J
$strOOJ R
,OOR S
tokenOOT Y
)OOY Z
;OOZ [
}PP 
varRR 
doctorRR 
=RR 
awaitRR 
_httpClientRR *
.RR* +
GetFromJsonAsyncRR+ ;
<RR; <#
DoctorResponseViewModelRR< S
>RRS T
(RRT U
$"RRU W
$strRRW f
{RRf g
idRRg i
}RRi j
"RRj k
)RRk l
;RRl m
ifSS 
(SS 
doctorSS 
==SS 
nullSS 
)SS 
returnSS  &
NotFoundSS' /
(SS/ 0
)SS0 1
;SS1 2
varUU 
modelUU 
=UU 
newUU !
DoctorUpdateViewModelUU 1
{VV 
DoctorIdWW 
=WW 
doctorWW !
.WW! "
DoctorIdWW" *
,WW* +
NameXX 
=XX 
doctorXX 
.XX 
NameXX "
,XX" #
EmailYY 
=YY 
doctorYY 
.YY 
EmailYY $
,YY$ %
PasswordZZ 
=ZZ 
$strZZ 
,ZZ 
	Specialty[[ 
=[[ 
doctor[[ "
.[[" #
	Specialty[[# ,
,[[, -

Experience\\ 
=\\ 
doctor\\ #
.\\# $

Experience\\$ .
,\\. /
Qualification]] 
=]] 
doctor]]  &
.]]& '
Qualification]]' 4
,]]4 5
Designation^^ 
=^^ 
doctor^^ $
.^^$ %
Designation^^% 0
}__ 
;__ 
return`` 
View`` 
(`` 
model`` 
)`` 
;`` 
}aa 	
[dd 	
HttpPostdd	 
]dd 
[ee 	$
ValidateAntiForgeryTokenee	 !
]ee! "
publicff 
asyncff 
Taskff 
<ff 
IActionResultff '
>ff' (
Editff) -
(ff- .!
DoctorUpdateViewModelff. C
modelffD I
)ffI J
{gg 	
ifhh 
(hh 
!hh 

ModelStatehh 
.hh 
IsValidhh #
)hh# $
returnhh% +
Viewhh, 0
(hh0 1
modelhh1 6
)hh6 7
;hh7 8
varjj 
tokenjj 
=jj 
HttpContextjj #
.jj# $
Sessionjj$ +
.jj+ ,
	GetStringjj, 5
(jj5 6
$strjj6 ?
)jj? @
;jj@ A
ifkk 
(kk 
!kk 
stringkk 
.kk 
IsNullOrEmptykk %
(kk% &
tokenkk& +
)kk+ ,
)kk, -
{ll 
_httpClientmm 
.mm !
DefaultRequestHeadersmm 1
.mm1 2
Authorizationmm2 ?
=mm@ A
newnn 
Systemnn 
.nn 
Netnn "
.nn" #
Httpnn# '
.nn' (
Headersnn( /
.nn/ 0%
AuthenticationHeaderValuenn0 I
(nnI J
$strnnJ R
,nnR S
tokennnT Y
)nnY Z
;nnZ [
}oo 
varqq 
responseqq 
=qq 
awaitqq  
_httpClientqq! ,
.qq, -
PutAsJsonAsyncqq- ;
(qq; <
$"qq< >
$strqq> M
{qqM N
modelqqN S
.qqS T
DoctorIdqqT \
}qq\ ]
"qq] ^
,qq^ _
modelqq` e
)qqe f
;qqf g
ifrr 
(rr 
responserr 
.rr 
IsSuccessStatusCoderr ,
)rr, -
returnss 
RedirectToActionss '
(ss' (
nameofss( .
(ss. /
Indexss/ 4
)ss4 5
)ss5 6
;ss6 7

ModelStateuu 
.uu 
AddModelErroruu $
(uu$ %
$struu% '
,uu' (
$struu) C
)uuC D
;uuD E
returnvv 
Viewvv 
(vv 
modelvv 
)vv 
;vv 
}ww 	
publiczz 
asynczz 
Taskzz 
<zz 
IActionResultzz '
>zz' (
Deletezz) /
(zz/ 0
intzz0 3
idzz4 6
)zz6 7
{{{ 	
var|| 
token|| 
=|| 
HttpContext|| #
.||# $
Session||$ +
.||+ ,
	GetString||, 5
(||5 6
$str||6 ?
)||? @
;||@ A
if}} 
(}} 
!}} 
string}} 
.}} 
IsNullOrEmpty}} %
(}}% &
token}}& +
)}}+ ,
)}}, -
{~~ 
_httpClient 
. !
DefaultRequestHeaders 1
.1 2
Authorization2 ?
=@ A
new
ÄÄ 
System
ÄÄ 
.
ÄÄ 
Net
ÄÄ "
.
ÄÄ" #
Http
ÄÄ# '
.
ÄÄ' (
Headers
ÄÄ( /
.
ÄÄ/ 0'
AuthenticationHeaderValue
ÄÄ0 I
(
ÄÄI J
$str
ÄÄJ R
,
ÄÄR S
token
ÄÄT Y
)
ÄÄY Z
;
ÄÄZ [
}
ÅÅ 
var
ÉÉ 
doctor
ÉÉ 
=
ÉÉ 
await
ÉÉ 
_httpClient
ÉÉ *
.
ÉÉ* +
GetFromJsonAsync
ÉÉ+ ;
<
ÉÉ; <%
DoctorResponseViewModel
ÉÉ< S
>
ÉÉS T
(
ÉÉT U
$"
ÉÉU W
$str
ÉÉW f
{
ÉÉf g
id
ÉÉg i
}
ÉÉi j
"
ÉÉj k
)
ÉÉk l
;
ÉÉl m
if
ÑÑ 
(
ÑÑ 
doctor
ÑÑ 
==
ÑÑ 
null
ÑÑ 
)
ÑÑ 
return
ÑÑ  &
NotFound
ÑÑ' /
(
ÑÑ/ 0
)
ÑÑ0 1
;
ÑÑ1 2
return
ÖÖ 
View
ÖÖ 
(
ÖÖ 
doctor
ÖÖ 
)
ÖÖ 
;
ÖÖ  
}
ÜÜ 	
[
ââ 	
HttpPost
ââ	 
,
ââ 

ActionName
ââ 
(
ââ 
$str
ââ &
)
ââ& '
]
ââ' (
[
ää 	&
ValidateAntiForgeryToken
ää	 !
]
ää! "
public
ãã 
async
ãã 
Task
ãã 
<
ãã 
IActionResult
ãã '
>
ãã' (
DeleteConfirmed
ãã) 8
(
ãã8 9
int
ãã9 <
id
ãã= ?
)
ãã? @
{
åå 	
var
çç 
token
çç 
=
çç 
HttpContext
çç #
.
çç# $
Session
çç$ +
.
çç+ ,
	GetString
çç, 5
(
çç5 6
$str
çç6 ?
)
çç? @
;
çç@ A
if
éé 
(
éé 
!
éé 
string
éé 
.
éé 
IsNullOrEmpty
éé %
(
éé% &
token
éé& +
)
éé+ ,
)
éé, -
{
èè 
_httpClient
êê 
.
êê #
DefaultRequestHeaders
êê 1
.
êê1 2
Authorization
êê2 ?
=
êê@ A
new
ëë 
System
ëë 
.
ëë 
Net
ëë "
.
ëë" #
Http
ëë# '
.
ëë' (
Headers
ëë( /
.
ëë/ 0'
AuthenticationHeaderValue
ëë0 I
(
ëëI J
$str
ëëJ R
,
ëëR S
token
ëëT Y
)
ëëY Z
;
ëëZ [
}
íí 
var
îî 
response
îî 
=
îî 
await
îî  
_httpClient
îî! ,
.
îî, -
DeleteAsync
îî- 8
(
îî8 9
$"
îî9 ;
$str
îî; J
{
îîJ K
id
îîK M
}
îîM N
"
îîN O
)
îîO P
;
îîP Q
if
ïï 
(
ïï 
response
ïï 
.
ïï !
IsSuccessStatusCode
ïï ,
)
ïï, -
return
ññ 
RedirectToAction
ññ '
(
ññ' (
nameof
ññ( .
(
ññ. /
Index
ññ/ 4
)
ññ4 5
)
ññ5 6
;
ññ6 7

ModelState
òò 
.
òò 
AddModelError
òò $
(
òò$ %
$str
òò% '
,
òò' (
$str
òò) C
)
òòC D
;
òòD E
var
ôô 
doctor
ôô 
=
ôô 
await
ôô 
_httpClient
ôô *
.
ôô* +
GetFromJsonAsync
ôô+ ;
<
ôô; <%
DoctorResponseViewModel
ôô< S
>
ôôS T
(
ôôT U
$"
ôôU W
$str
ôôW f
{
ôôf g
id
ôôg i
}
ôôi j
"
ôôj k
)
ôôk l
;
ôôl m
return
öö 
View
öö 
(
öö 
$str
öö  
,
öö  !
doctor
öö" (
)
öö( )
;
öö) *
}
õõ 	
}
úú 
}ùù Ìl
kC:\Users\gokul\OneDrive\Desktop\C#_workspace\AmazeCareSolution\AmazeCare.WEB\Controllers\AdminController.cs
	namespace

 	
	AmazeCare


 
.

 
WEB

 
.

 
Controllers

 #
{ 
public 

class 
AdminController  
:! "

Controller# -
{ 
private 
readonly 
IHttpClientFactory +
_httpClientFactory, >
;> ?
private 
readonly 
IConfiguration '
_config( /
;/ 0
public 
AdminController 
( 
IHttpClientFactory 1
httpClientFactory2 C
,C D
IConfigurationE S
configT Z
)Z [
{ 	
_httpClientFactory 
=  
httpClientFactory! 2
;2 3
_config 
= 
config 
; 
} 	
[ 	
HttpGet	 
] 
public 
IActionResult 
Register %
(% &
)& '
{ 	
return 
View 
( 
) 
; 
} 	
[ 	
HttpPost	 
] 
public   
async   
Task   
<   
IActionResult   '
>  ' (
Register  ) 1
(  1 2"
RegisterAdminViewModel  2 H
model  I N
)  N O
{!! 	
if"" 
("" 
!"" 

ModelState"" 
."" 
IsValid"" #
)""# $
return## 
View## 
(## 
model## !
)##! "
;##" #
var%% 
apiUrl%% 
=%% 
$"%% 
{%% 
_config%% #
[%%# $
$str%%$ 0
]%%0 1
}%%1 2
$str%%2 L
"%%L M
;%%M N
var&& 

httpClient&& 
=&& 
_httpClientFactory&& /
.&&/ 0
CreateClient&&0 <
(&&< =
)&&= >
;&&> ?
var(( 
content(( 
=(( 
new(( 
StringContent(( +
(((+ ,
JsonSerializer((, :
.((: ;
	Serialize((; D
(((D E
model((E J
)((J K
,((K L
Encoding((M U
.((U V
UTF8((V Z
,((Z [
$str((\ n
)((n o
;((o p
var)) 
response)) 
=)) 
await))  

httpClient))! +
.))+ ,
	PostAsync)), 5
())5 6
apiUrl))6 <
,))< =
content))> E
)))E F
;))F G
if++ 
(++ 
response++ 
.++ 
IsSuccessStatusCode++ ,
)++, -
{,, 
TempData-- 
[-- 
$str-- "
]--" #
=--$ %
$str--& N
;--N O
return.. 
RedirectToAction.. '
(..' (
$str..( /
)../ 0
;..0 1
}// 
else00 
{11 
var22 
error22 
=22 
await22 !
response22" *
.22* +
Content22+ 2
.222 3
ReadAsStringAsync223 D
(22D E
)22E F
;22F G

ModelState33 
.33 
AddModelError33 (
(33( )
$str33) +
,33+ ,
error33- 2
)332 3
;333 4
return44 
View44 
(44 
model44 !
)44! "
;44" #
}55 
}66 	
[99 	
HttpGet99	 
]99 
[:: 	
AllowAnonymous::	 
]:: 
public;; 
IActionResult;; 
Login;; "
(;;" #
);;# $
{<< 	
return== 
View== 
(== 
)== 
;== 
}>> 	
[AA 	
HttpPostAA	 
]AA 
[BB 	
AllowAnonymousBB	 
]BB 
publicCC 
asyncCC 
TaskCC 
<CC 
IActionResultCC '
>CC' (
LoginCC) .
(CC. /
AdminLoginViewModelCC/ B
modelCCC H
)CCH I
{DD 	
ifEE 
(EE 
!EE 

ModelStateEE 
.EE 
IsValidEE #
)EE# $
returnFF 
ViewFF 
(FF 
modelFF !
)FF! "
;FF" #
varHH 
apiUrlHH 
=HH 
$"HH 
{HH 
_configHH #
[HH# $
$strHH$ 0
]HH0 1
}HH1 2
$strHH2 C
"HHC D
;HHD E
varII 

httpClientII 
=II 
_httpClientFactoryII /
.II/ 0
CreateClientII0 <
(II< =
)II= >
;II> ?
varKK 
contentKK 
=KK 
newKK 
StringContentKK +
(KK+ ,
JsonSerializerKK, :
.KK: ;
	SerializeKK; D
(KKD E
modelKKE J
)KKJ K
,KKK L
EncodingKKM U
.KKU V
UTF8KKV Z
,KKZ [
$strKK\ n
)KKn o
;KKo p
varLL 
responseLL 
=LL 
awaitLL  

httpClientLL! +
.LL+ ,
	PostAsyncLL, 5
(LL5 6
apiUrlLL6 <
,LL< =
contentLL> E
)LLE F
;LLF G
varNN 
jsonNN 
=NN 
awaitNN 
responseNN %
.NN% &
ContentNN& -
.NN- .
ReadAsStringAsyncNN. ?
(NN? @
)NN@ A
;NNA B
ifPP 
(PP 
!PP 
responsePP 
.PP 
IsSuccessStatusCodePP -
)PP- .
{QQ 

ModelStateRR 
.RR 
AddModelErrorRR (
(RR( )
$strRR) +
,RR+ ,
$"RR- /
$strRR/ X
{RRX Y
jsonRRY ]
}RR] ^
"RR^ _
)RR_ `
;RR` a
returnSS 
ViewSS 
(SS 
modelSS !
)SS! "
;SS" #
}TT 
stringWW 
tokenWW 
=WW 
nullWW 
;WW  
tryXX 
{YY 
varZZ 
docZZ 
=ZZ 
JsonDocumentZZ &
.ZZ& '
ParseZZ' ,
(ZZ, -
jsonZZ- 1
)ZZ1 2
;ZZ2 3
if[[ 
([[ 
doc[[ 
.[[ 
RootElement[[ #
.[[# $
TryGetProperty[[$ 2
([[2 3
$str[[3 :
,[[: ;
out[[< ?
var[[@ C
tokenElement[[D P
)[[P Q
)[[Q R
token\\ 
=\\ 
tokenElement\\ (
.\\( )
	GetString\\) 2
(\\2 3
)\\3 4
;\\4 5
}]] 
catch^^ 
{__ 

ModelState`` 
.`` 
AddModelError`` (
(``( )
$str``) +
,``+ ,
$str``- I
)``I J
;``J K
returnaa 
Viewaa 
(aa 
modelaa !
)aa! "
;aa" #
}bb 
ifdd 
(dd 
stringdd 
.dd 
IsNullOrEmptydd $
(dd$ %
tokendd% *
)dd* +
)dd+ ,
{ee 

ModelStateff 
.ff 
AddModelErrorff (
(ff( )
$strff) +
,ff+ ,
$strff- J
)ffJ K
;ffK L
returngg 
Viewgg 
(gg 
modelgg !
)gg! "
;gg" #
}hh 
varkk 
handlerkk 
=kk 
newkk 
Systemkk $
.kk$ %
IdentityModelkk% 2
.kk2 3
Tokenskk3 9
.kk9 :
Jwtkk: =
.kk= >#
JwtSecurityTokenHandlerkk> U
(kkU V
)kkV W
;kkW X
varll 
jwtll 
=ll 
handlerll 
.ll 
ReadJwtTokenll *
(ll* +
tokenll+ 0
)ll0 1
;ll1 2
varoo 
	roleClaimoo 
=oo 
jwtoo 
.oo  
Claimsoo  &
.oo& '
FirstOrDefaultoo' 5
(oo5 6
coo6 7
=>oo8 :
cpp 
.pp 
Typepp 
==pp 

ClaimTypespp $
.pp$ %
Rolepp% )
||pp* ,
cqq 
.qq 
Typeqq 
==qq 
$strqq  
||qq! #
crr 
.rr 
Typerr 
==rr 
$strrr !
||rr" $
css 
.ss 
Typess 
.ss 
EndsWithss 
(ss  
$strss  '
)ss' (
)ss( )
;ss) *
varuu 
claimsuu 
=uu 
newuu 
Listuu !
<uu! "
Claimuu" '
>uu' (
{vv 
newww 
Claimww 
(ww 

ClaimTypesww 
.ww 
Nameww !
,ww! "
jwtww# &
.ww& '
Claimsww' -
.ww- .
FirstOrDefaultww. <
(ww< =
cww= >
=>ww? A
cwwB C
.wwC D
TypewwD H
==wwI K
$strwwL S
)wwS T
?wwT U
.wwU V
ValuewwV [
??ww\ ^
$strww_ a
)wwa b
,wwb c
newxx 
Claimxx 
(xx 

ClaimTypesxx 
.xx 
Emailxx "
,xx" #
jwtxx$ '
.xx' (
Claimsxx( .
.xx. /
FirstOrDefaultxx/ =
(xx= >
cxx> ?
=>xx@ B
cxxC D
.xxD E
TypexxE I
==xxJ L
$strxxM T
)xxT U
?xxU V
.xxV W
ValuexxW \
??xx] _
$strxx` b
)xxb c
,xxc d
newyy 
Claimyy 
(yy 

ClaimTypesyy 
.yy 
Roleyy !
,yy! "
	roleClaimyy# ,
?yy, -
.yy- .
Valueyy. 3
??yy4 6
$stryy7 9
)yy9 :
,yy: ;
newzz 
Claimzz 
(zz 

ClaimTypeszz 
.zz 
NameIdentifierzz +
,zz+ ,
jwtzz- 0
.zz0 1
Claimszz1 7
.zz7 8
FirstOrDefaultzz8 F
(zzF G
czzG H
=>zzI K
czzL M
.zzM N
TypezzN R
==zzS U
$strzzV ^
)zz^ _
?zz_ `
.zz` a
Valuezza f
??zzg i
$strzzj l
)zzl m
}{{ 
;{{ 
foreach~~ 
(~~ 
var~~ 
claim~~ 
in~~ !
claims~~" (
)~~( )
{ 
System
ÄÄ 
.
ÄÄ 
Diagnostics
ÄÄ "
.
ÄÄ" #
Debug
ÄÄ# (
.
ÄÄ( )
	WriteLine
ÄÄ) 2
(
ÄÄ2 3
$"
ÄÄ3 5
$str
ÄÄ5 C
{
ÄÄC D
claim
ÄÄD I
.
ÄÄI J
Type
ÄÄJ N
}
ÄÄN O
$str
ÄÄO R
{
ÄÄR S
claim
ÄÄS X
.
ÄÄX Y
Value
ÄÄY ^
}
ÄÄ^ _
"
ÄÄ_ `
)
ÄÄ` a
;
ÄÄa b
}
ÅÅ 
var
ÉÉ 
identity
ÉÉ 
=
ÉÉ 
new
ÉÉ 
ClaimsIdentity
ÉÉ -
(
ÉÉ- .
claims
ÉÉ. 4
,
ÉÉ4 5*
CookieAuthenticationDefaults
ÉÉ6 R
.
ÉÉR S"
AuthenticationScheme
ÉÉS g
)
ÉÉg h
;
ÉÉh i
var
ÑÑ 
	principal
ÑÑ 
=
ÑÑ 
new
ÑÑ 
ClaimsPrincipal
ÑÑ  /
(
ÑÑ/ 0
identity
ÑÑ0 8
)
ÑÑ8 9
;
ÑÑ9 :
HttpContext
áá 
.
áá 
Session
áá 
.
áá  
	SetString
áá  )
(
áá) *
$str
áá* 3
,
áá3 4
token
áá5 :
)
áá: ;
;
áá; <
await
ââ 
HttpContext
ââ 
.
ââ 
SignInAsync
ââ )
(
ââ) **
CookieAuthenticationDefaults
ââ* F
.
ââF G"
AuthenticationScheme
ââG [
,
ââ[ \
	principal
ââ] f
)
ââf g
;
ââg h
return
ãã 
RedirectToAction
ãã #
(
ãã# $
$str
ãã$ /
)
ãã/ 0
;
ãã0 1
}
åå 	
[
êê 	
	Authorize
êê	 
(
êê 
Roles
êê 
=
êê 
$str
êê "
)
êê" #
]
êê# $
public
ëë 
IActionResult
ëë 
	Dashboard
ëë &
(
ëë& '
)
ëë' (
{
íí 	
ViewBag
ìì 
.
ìì 
	AdminName
ìì 
=
ìì 
User
ìì  $
.
ìì$ %
Identity
ìì% -
.
ìì- .
Name
ìì. 2
;
ìì2 3
return
îî 
View
îî 
(
îî 
)
îî 
;
îî 
}
ïï 	
[
òò 	
	Authorize
òò	 
]
òò 
public
ôô 
async
ôô 
Task
ôô 
<
ôô 
IActionResult
ôô '
>
ôô' (
Logout
ôô) /
(
ôô/ 0
)
ôô0 1
{
öö 	
await
õõ 
HttpContext
õõ 
.
õõ 
SignOutAsync
õõ *
(
õõ* +*
CookieAuthenticationDefaults
õõ+ G
.
õõG H"
AuthenticationScheme
õõH \
)
õõ\ ]
;
õõ] ^
HttpContext
úú 
.
úú 
Session
úú 
.
úú  
Remove
úú  &
(
úú& '
$str
úú' 0
)
úú0 1
;
úú1 2
return
ùù 
RedirectToAction
ùù #
(
ùù# $
$str
ùù$ +
)
ùù+ ,
;
ùù, -
}
ûû 	
}
üü 
}†† œY
vC:\Users\gokul\OneDrive\Desktop\C#_workspace\AmazeCareSolution\AmazeCare.WEB\Controllers\AdminAppointmentController.cs
	namespace 	
	AmazeCare
 
. 
WEB 
. 
Controllers #
{ 
public 

class &
AdminAppointmentController +
:, -

Controller. 8
{ 
private 
readonly 

HttpClient #
_httpClient$ /
;/ 0
public &
AdminAppointmentController )
() *
IHttpClientFactory* <
httpClientFactory= N
)N O
{ 	
_httpClient 
= 
httpClientFactory +
.+ ,
CreateClient, 8
(8 9
$str9 D
)D E
;E F
} 	
public 
async 
Task 
< 
IActionResult '
>' (
Index) .
(. /
)/ 0
{ 	
var 
token 
= 
HttpContext #
.# $
Session$ +
.+ ,
	GetString, 5
(5 6
$str6 ?
)? @
;@ A
if 
( 
! 
string 
. 
IsNullOrEmpty %
(% &
token& +
)+ ,
), -
{ 
_httpClient 
. !
DefaultRequestHeaders 1
.1 2
Authorization2 ?
=@ A
new 
System 
. 
Net "
." #
Http# '
.' (
Headers( /
./ 0%
AuthenticationHeaderValue0 I
(I J
$strJ R
,R S
tokenT Y
)Y Z
;Z [
} 
var 
appointments 
= 
await $
_httpClient% 0
.0 1
GetFromJsonAsync1 A
<A B
ListB F
<F G(
AppointmentResponseViewModelG c
>c d
>d e
(e f
$strf {
){ |
;| }
return 
View 
( 
appointments $
)$ %
;% &
} 	
public 
async 
Task 
< 
IActionResult '
>' (
Details) 0
(0 1
int1 4
id5 7
)7 8
{   	
var!! 
token!! 
=!! 
HttpContext!! #
.!!# $
Session!!$ +
.!!+ ,
	GetString!!, 5
(!!5 6
$str!!6 ?
)!!? @
;!!@ A
if"" 
("" 
!"" 
string"" 
."" 
IsNullOrEmpty"" %
(""% &
token""& +
)""+ ,
)"", -
{## 
_httpClient$$ 
.$$ !
DefaultRequestHeaders$$ 1
.$$1 2
Authorization$$2 ?
=$$@ A
new%% 
System%% 
.%% 
Net%% "
.%%" #
Http%%# '
.%%' (
Headers%%( /
.%%/ 0%
AuthenticationHeaderValue%%0 I
(%%I J
$str%%J R
,%%R S
token%%T Y
)%%Y Z
;%%Z [
}&& 
var(( 
appointment(( 
=(( 
await(( #
_httpClient(($ /
.((/ 0
GetFromJsonAsync((0 @
<((@ A(
AppointmentResponseViewModel((A ]
>((] ^
(((^ _
$"((_ a
$str((a u
{((u v
id((v x
}((x y
"((y z
)((z {
;(({ |
if)) 
()) 
appointment)) 
==)) 
null)) #
)))# $
return))% +
NotFound)), 4
())4 5
)))5 6
;))6 7
return** 
View** 
(** 
appointment** #
)**# $
;**$ %
}++ 	
public.. 
async.. 
Task.. 
<.. 
IActionResult.. '
>..' (
Delete..) /
(../ 0
int..0 3
id..4 6
)..6 7
{// 	
var00 
token00 
=00 
HttpContext00 #
.00# $
Session00$ +
.00+ ,
	GetString00, 5
(005 6
$str006 ?
)00? @
;00@ A
if11 
(11 
!11 
string11 
.11 
IsNullOrEmpty11 %
(11% &
token11& +
)11+ ,
)11, -
{22 
_httpClient33 
.33 !
DefaultRequestHeaders33 1
.331 2
Authorization332 ?
=33@ A
new44 
System44 
.44 
Net44 "
.44" #
Http44# '
.44' (
Headers44( /
.44/ 0%
AuthenticationHeaderValue440 I
(44I J
$str44J R
,44R S
token44T Y
)44Y Z
;44Z [
}55 
var77 
appointment77 
=77 
await77 #
_httpClient77$ /
.77/ 0
GetFromJsonAsync770 @
<77@ A(
AppointmentResponseViewModel77A ]
>77] ^
(77^ _
$"77_ a
$str77a u
{77u v
id77v x
}77x y
"77y z
)77z {
;77{ |
if88 
(88 
appointment88 
==88 
null88 #
)88# $
return88% +
NotFound88, 4
(884 5
)885 6
;886 7
return99 
View99 
(99 
appointment99 #
)99# $
;99$ %
}:: 	
[== 	
HttpPost==	 
,== 

ActionName== 
(== 
$str== &
)==& '
]==' (
public>> 
async>> 
Task>> 
<>> 
IActionResult>> '
>>>' (
DeleteConfirmed>>) 8
(>>8 9
int>>9 <
id>>= ?
)>>? @
{?? 	
var@@ 
token@@ 
=@@ 
HttpContext@@ #
.@@# $
Session@@$ +
.@@+ ,
	GetString@@, 5
(@@5 6
$str@@6 ?
)@@? @
;@@@ A
ifAA 
(AA 
!AA 
stringAA 
.AA 
IsNullOrEmptyAA %
(AA% &
tokenAA& +
)AA+ ,
)AA, -
{BB 
_httpClientCC 
.CC !
DefaultRequestHeadersCC 1
.CC1 2
AuthorizationCC2 ?
=CC@ A
newDD 
SystemDD 
.DD 
NetDD "
.DD" #
HttpDD# '
.DD' (
HeadersDD( /
.DD/ 0%
AuthenticationHeaderValueDD0 I
(DDI J
$strDDJ R
,DDR S
tokenDDT Y
)DDY Z
;DDZ [
}EE 
varGG 
responseGG 
=GG 
awaitGG  
_httpClientGG! ,
.GG, -
DeleteAsyncGG- 8
(GG8 9
$"GG9 ;
$strGG; O
{GGO P
idGGP R
}GGR S
"GGS T
)GGT U
;GGU V
returnHH 
RedirectToActionHH #
(HH# $
nameofHH$ *
(HH* +
IndexHH+ 0
)HH0 1
)HH1 2
;HH2 3
}II 	
publicLL 
IActionResultLL 
ByDoctorLL %
(LL% &
)LL& '
{MM 	
returnNN 
ViewNN 
(NN 
)NN 
;NN 
}OO 	
[RR 	
HttpPostRR	 
]RR 
publicSS 
asyncSS 
TaskSS 
<SS 
IActionResultSS '
>SS' (
ByDoctorSS) 1
(SS1 2
intSS2 5
doctorIdSS6 >
)SS> ?
{TT 	
varUU 
tokenUU 
=UU 
HttpContextUU #
.UU# $
SessionUU$ +
.UU+ ,
	GetStringUU, 5
(UU5 6
$strUU6 ?
)UU? @
;UU@ A
ifVV 
(VV 
!VV 
stringVV 
.VV 
IsNullOrEmptyVV %
(VV% &
tokenVV& +
)VV+ ,
)VV, -
{WW 
_httpClientXX 
.XX !
DefaultRequestHeadersXX 1
.XX1 2
AuthorizationXX2 ?
=XX@ A
newYY 
SystemYY 
.YY 
NetYY "
.YY" #
HttpYY# '
.YY' (
HeadersYY( /
.YY/ 0%
AuthenticationHeaderValueYY0 I
(YYI J
$strYYJ R
,YYR S
tokenYYT Y
)YYY Z
;YYZ [
}ZZ 
var\\ 
appointments\\ 
=\\ 
await\\ $
_httpClient\\% 0
.\\0 1
GetFromJsonAsync\\1 A
<\\A B
List\\B F
<\\F G(
AppointmentResponseViewModel\\G c
>\\c d
>\\d e
(\\e f
$"\\f h
$str	\\h É
{
\\É Ñ
doctorId
\\Ñ å
}
\\å ç
"
\\ç é
)
\\é è
;
\\è ê
ViewBag]] 
.]] 
DoctorId]] 
=]] 
doctorId]] '
;]]' (
return^^ 
View^^ 
(^^ 
$str^^ )
,^^) *
appointments^^+ 7
)^^7 8
;^^8 9
}__ 	
publicbb 
IActionResultbb 
	ByPatientbb &
(bb& '
)bb' (
{cc 	
returndd 
Viewdd 
(dd 
)dd 
;dd 
}ee 	
[hh 	
HttpPosthh	 
]hh 
publicii 
asyncii 
Taskii 
<ii 
IActionResultii '
>ii' (
	ByPatientii) 2
(ii2 3
intii3 6
	patientIdii7 @
)ii@ A
{jj 	
varll 
tokenll 
=ll 
HttpContextll #
.ll# $
Sessionll$ +
.ll+ ,
	GetStringll, 5
(ll5 6
$strll6 ?
)ll? @
;ll@ A
ifmm 
(mm 
!mm 
stringmm 
.mm 
IsNullOrEmptymm %
(mm% &
tokenmm& +
)mm+ ,
)mm, -
{nn 
_httpClientoo 
.oo !
DefaultRequestHeadersoo 1
.oo1 2
Authorizationoo2 ?
=oo@ A
newpp 
Systempp 
.pp 
Netpp "
.pp" #
Httppp# '
.pp' (
Headerspp( /
.pp/ 0%
AuthenticationHeaderValuepp0 I
(ppI J
$strppJ R
,ppR S
tokenppT Y
)ppY Z
;ppZ [
}qq 
varss 
appointmentsss 
=ss 
awaitss $
_httpClientss% 0
.ss0 1
GetFromJsonAsyncss1 A
<ssA B
ListssB F
<ssF G(
AppointmentResponseViewModelssG c
>ssc d
>ssd e
(sse f
$"ssf h
$str	ssh Ñ
{
ssÑ Ö
	patientId
ssÖ é
}
ssé è
"
ssè ê
)
ssê ë
;
ssë í
ViewBagtt 
.tt 
	PatientIdtt 
=tt 
	patientIdtt  )
;tt) *
returnuu 
Viewuu 
(uu 
$struu *
,uu* +
appointmentsuu, 8
)uu8 9
;uu9 :
}vv 	
}yy 
}zz ˝w
pC:\Users\gokul\OneDrive\Desktop\C#_workspace\AmazeCareSolution\AmazeCare.WEB\Controllers\AdminAdminController.cs
[ 
	Authorize 

(
 
Roles 
= 
$str 
) 
] 
public 
class  
AdminAdminController !
:" #

Controller$ .
{ 
private 
readonly 

HttpClient 
_httpClient  +
;+ ,
public

 
 
AdminAdminController

 
(

  
IHttpClientFactory

  2
httpClientFactory

3 D
)

D E
{ 
_httpClient 
= 
httpClientFactory '
.' (
CreateClient( 4
(4 5
$str5 @
)@ A
;A B
} 
public 

async 
Task 
< 
IActionResult #
># $
Index% *
(* +
)+ ,
{ 
var 
token 
= 
HttpContext 
.  
Session  '
.' (
	GetString( 1
(1 2
$str2 ;
); <
;< =
if 

( 
! 
string 
. 
IsNullOrEmpty !
(! "
token" '
)' (
)( )
{ 	
_httpClient 
. !
DefaultRequestHeaders -
.- .
Authorization. ;
=< =
new 
System 
. 
Net 
. 
Http #
.# $
Headers$ +
.+ ,%
AuthenticationHeaderValue, E
(E F
$strF N
,N O
tokenP U
)U V
;V W
} 	
var 
admins 
= 
await 
_httpClient &
.& '
GetFromJsonAsync' 7
<7 8
List8 <
<< ="
AdminResponseViewModel= S
>S T
>T U
(U V
$strV e
)e f
;f g
return 
View 
( 
admins 
) 
; 
} 
public 

async 
Task 
< 
IActionResult #
># $
Details% ,
(, -
int- 0
id1 3
)3 4
{ 
var   
token   
=   
HttpContext   
.    
Session    '
.  ' (
	GetString  ( 1
(  1 2
$str  2 ;
)  ; <
;  < =
if!! 

(!! 
!!! 
string!! 
.!! 
IsNullOrEmpty!! !
(!!! "
token!!" '
)!!' (
)!!( )
{"" 	
_httpClient## 
.## !
DefaultRequestHeaders## -
.##- .
Authorization##. ;
=##< =
new$$ 
System$$ 
.$$ 
Net$$ 
.$$ 
Http$$ #
.$$# $
Headers$$$ +
.$$+ ,%
AuthenticationHeaderValue$$, E
($$E F
$str$$F N
,$$N O
token$$P U
)$$U V
;$$V W
}%% 	
var'' 
admin'' 
='' 
await'' 
_httpClient'' %
.''% &
GetFromJsonAsync''& 6
<''6 7"
AdminResponseViewModel''7 M
>''M N
(''N O
$"''O Q
$str''Q _
{''_ `
id''` b
}''b c
"''c d
)''d e
;''e f
if(( 

((( 
admin(( 
==(( 
null(( 
)(( 
return(( !
NotFound((" *
(((* +
)((+ ,
;((, -
return)) 
View)) 
()) 
admin)) 
))) 
;)) 
}** 
public-- 

IActionResult-- 
Create-- 
(--  
)--  !
=>--" $
View--% )
(--) *
)--* +
;--+ ,
[00 
HttpPost00 
]00 
[11 $
ValidateAntiForgeryToken11 
]11 
public22 

async22 
Task22 
<22 
IActionResult22 #
>22# $
Create22% +
(22+ , 
AdminCreateViewModel22, @
model22A F
)22F G
{33 
if44 

(44 
!44 

ModelState44 
.44 
IsValid44 
)44  
return44! '
View44( ,
(44, -
model44- 2
)442 3
;443 4
var66 
token66 
=66 
HttpContext66 
.66  
Session66  '
.66' (
	GetString66( 1
(661 2
$str662 ;
)66; <
;66< =
if77 

(77 
!77 
string77 
.77 
IsNullOrEmpty77 !
(77! "
token77" '
)77' (
)77( )
{88 	
_httpClient99 
.99 !
DefaultRequestHeaders99 -
.99- .
Authorization99. ;
=99< =
new:: 
System:: 
.:: 
Net:: 
.:: 
Http:: #
.::# $
Headers::$ +
.::+ ,%
AuthenticationHeaderValue::, E
(::E F
$str::F N
,::N O
token::P U
)::U V
;::V W
};; 	
var== 
response== 
=== 
await== 
_httpClient== (
.==( )
PostAsJsonAsync==) 8
(==8 9
$str==9 H
,==H I
model==J O
)==O P
;==P Q
if>> 

(>> 
response>> 
.>> 
IsSuccessStatusCode>> (
)>>( )
return?? 
RedirectToAction?? #
(??# $
nameof??$ *
(??* +
Index??+ 0
)??0 1
)??1 2
;??2 3

ModelStateAA 
.AA 
AddModelErrorAA  
(AA  !
$strAA! #
,AA# $
$strAA% >
)AA> ?
;AA? @
returnBB 
ViewBB 
(BB 
modelBB 
)BB 
;BB 
}CC 
publicFF 

asyncFF 
TaskFF 
<FF 
IActionResultFF #
>FF# $
EditFF% )
(FF) *
intFF* -
idFF. 0
)FF0 1
{GG 
varHH 
tokenHH 
=HH 
HttpContextHH 
.HH  
SessionHH  '
.HH' (
	GetStringHH( 1
(HH1 2
$strHH2 ;
)HH; <
;HH< =
ifII 

(II 
!II 
stringII 
.II 
IsNullOrEmptyII !
(II! "
tokenII" '
)II' (
)II( )
{JJ 	
_httpClientKK 
.KK !
DefaultRequestHeadersKK -
.KK- .
AuthorizationKK. ;
=KK< =
newLL 
SystemLL 
.LL 
NetLL 
.LL 
HttpLL #
.LL# $
HeadersLL$ +
.LL+ ,%
AuthenticationHeaderValueLL, E
(LLE F
$strLLF N
,LLN O
tokenLLP U
)LLU V
;LLV W
}MM 	
varOO 
adminOO 
=OO 
awaitOO 
_httpClientOO %
.OO% &
GetFromJsonAsyncOO& 6
<OO6 7"
AdminResponseViewModelOO7 M
>OOM N
(OON O
$"OOO Q
$strOOQ _
{OO_ `
idOO` b
}OOb c
"OOc d
)OOd e
;OOe f
ifPP 

(PP 
adminPP 
==PP 
nullPP 
)PP 
returnPP !
NotFoundPP" *
(PP* +
)PP+ ,
;PP, -
varRR 
modelRR 
=RR 
newRR  
AdminUpdateViewModelRR ,
{SS 	
AdminIdTT 
=TT 
adminTT 
.TT 
AdminIdTT #
,TT# $
NameUU 
=UU 
adminUU 
.UU 
NameUU 
,UU 
EmailVV 
=VV 
adminVV 
.VV 
EmailVV 
,VV  
PasswordWW 
=WW 
$strWW 
}XX 	
;XX	 

returnYY 
ViewYY 
(YY 
modelYY 
)YY 
;YY 
}ZZ 
[]] 
HttpPost]] 
]]] 
[^^ $
ValidateAntiForgeryToken^^ 
]^^ 
public__ 

async__ 
Task__ 
<__ 
IActionResult__ #
>__# $
Edit__% )
(__) * 
AdminUpdateViewModel__* >
model__? D
)__D E
{`` 
ifaa 

(aa 
!aa 

ModelStateaa 
.aa 
IsValidaa 
)aa  
returnaa! '
Viewaa( ,
(aa, -
modelaa- 2
)aa2 3
;aa3 4
vardd 
tokendd 
=dd 
HttpContextdd 
.dd  
Sessiondd  '
.dd' (
	GetStringdd( 1
(dd1 2
$strdd2 ;
)dd; <
;dd< =
ifee 

(ee 
!ee 
stringee 
.ee 
IsNullOrEmptyee !
(ee! "
tokenee" '
)ee' (
)ee( )
{ff 	
_httpClientgg 
.gg !
DefaultRequestHeadersgg -
.gg- .
Authorizationgg. ;
=gg< =
newhh 
Systemhh 
.hh 
Nethh 
.hh 
Httphh #
.hh# $
Headershh$ +
.hh+ ,%
AuthenticationHeaderValuehh, E
(hhE F
$strhhF N
,hhN O
tokenhhP U
)hhU V
;hhV W
}ii 	
varkk 
responsekk 
=kk 
awaitkk 
_httpClientkk (
.kk( )
PutAsJsonAsynckk) 7
(kk7 8
$"kk8 :
$strkk: H
{kkH I
modelkkI N
.kkN O
AdminIdkkO V
}kkV W
"kkW X
,kkX Y
modelkkZ _
)kk_ `
;kk` a
ifll 

(ll 
responsell 
.ll 
IsSuccessStatusCodell (
)ll( )
returnmm 
RedirectToActionmm #
(mm# $
nameofmm$ *
(mm* +
Indexmm+ 0
)mm0 1
)mm1 2
;mm2 3

ModelStateoo 
.oo 
AddModelErroroo  
(oo  !
$stroo! #
,oo# $
$stroo% >
)oo> ?
;oo? @
returnpp 
Viewpp 
(pp 
modelpp 
)pp 
;pp 
}qq 
publictt 

asynctt 
Tasktt 
<tt 
IActionResulttt #
>tt# $
Deletett% +
(tt+ ,
inttt, /
idtt0 2
)tt2 3
{uu 
varvv 
tokenvv 
=vv 
HttpContextvv 
.vv  
Sessionvv  '
.vv' (
	GetStringvv( 1
(vv1 2
$strvv2 ;
)vv; <
;vv< =
ifww 

(ww 
!ww 
stringww 
.ww 
IsNullOrEmptyww !
(ww! "
tokenww" '
)ww' (
)ww( )
{xx 	
_httpClientyy 
.yy !
DefaultRequestHeadersyy -
.yy- .
Authorizationyy. ;
=yy< =
newzz 
Systemzz 
.zz 
Netzz 
.zz 
Httpzz #
.zz# $
Headerszz$ +
.zz+ ,%
AuthenticationHeaderValuezz, E
(zzE F
$strzzF N
,zzN O
tokenzzP U
)zzU V
;zzV W
}{{ 	
var}} 
admin}} 
=}} 
await}} 
_httpClient}} %
.}}% &
GetFromJsonAsync}}& 6
<}}6 7"
AdminResponseViewModel}}7 M
>}}M N
(}}N O
$"}}O Q
$str}}Q _
{}}_ `
id}}` b
}}}b c
"}}c d
)}}d e
;}}e f
if~~ 

(~~ 
admin~~ 
==~~ 
null~~ 
)~~ 
return~~ !
NotFound~~" *
(~~* +
)~~+ ,
;~~, -
return 
View 
( 
admin 
) 
; 
}
ÄÄ 
[
ÉÉ 
HttpPost
ÉÉ 
,
ÉÉ 

ActionName
ÉÉ 
(
ÉÉ 
$str
ÉÉ "
)
ÉÉ" #
]
ÉÉ# $
[
ÑÑ &
ValidateAntiForgeryToken
ÑÑ 
]
ÑÑ 
public
ÖÖ 

async
ÖÖ 
Task
ÖÖ 
<
ÖÖ 
IActionResult
ÖÖ #
>
ÖÖ# $
DeleteConfirmed
ÖÖ% 4
(
ÖÖ4 5
int
ÖÖ5 8
id
ÖÖ9 ;
)
ÖÖ; <
{
ÜÜ 
var
áá 
token
áá 
=
áá 
HttpContext
áá 
.
áá  
Session
áá  '
.
áá' (
	GetString
áá( 1
(
áá1 2
$str
áá2 ;
)
áá; <
;
áá< =
if
àà 

(
àà 
!
àà 
string
àà 
.
àà 
IsNullOrEmpty
àà !
(
àà! "
token
àà" '
)
àà' (
)
àà( )
{
ââ 	
_httpClient
ää 
.
ää #
DefaultRequestHeaders
ää -
.
ää- .
Authorization
ää. ;
=
ää< =
new
ãã 
System
ãã 
.
ãã 
Net
ãã 
.
ãã 
Http
ãã #
.
ãã# $
Headers
ãã$ +
.
ãã+ ,'
AuthenticationHeaderValue
ãã, E
(
ããE F
$str
ããF N
,
ããN O
token
ããP U
)
ããU V
;
ããV W
}
åå 	
var
éé 
response
éé 
=
éé 
await
éé 
_httpClient
éé (
.
éé( )
DeleteAsync
éé) 4
(
éé4 5
$"
éé5 7
$str
éé7 E
{
ééE F
id
ééF H
}
ééH I
"
ééI J
)
ééJ K
;
ééK L
if
èè 

(
èè 
response
èè 
.
èè !
IsSuccessStatusCode
èè (
)
èè( )
return
êê 
RedirectToAction
êê #
(
êê# $
nameof
êê$ *
(
êê* +
Index
êê+ 0
)
êê0 1
)
êê1 2
;
êê2 3

ModelState
íí 
.
íí 
AddModelError
íí  
(
íí  !
$str
íí! #
,
íí# $
$str
íí% >
)
íí> ?
;
íí? @
var
ìì 
admin
ìì 
=
ìì 
await
ìì 
_httpClient
ìì %
.
ìì% &
GetFromJsonAsync
ìì& 6
<
ìì6 7$
AdminResponseViewModel
ìì7 M
>
ììM N
(
ììN O
$"
ììO Q
$str
ììQ _
{
ìì_ `
id
ìì` b
}
ììb c
"
ììc d
)
ììd e
;
ììe f
return
îî 
View
îî 
(
îî 
$str
îî 
,
îî 
admin
îî #
)
îî# $
;
îî$ %
}
ïï 
}ññ 