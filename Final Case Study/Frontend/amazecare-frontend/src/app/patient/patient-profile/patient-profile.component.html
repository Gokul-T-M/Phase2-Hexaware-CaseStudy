<div class="container mt-4" *ngIf="!loading">
  

  <div *ngIf="!editing">
    <h4 class="mb-3" style="color: #b71c1c;">My Profile</h4>

    <p><strong>Name:</strong> {{ profileForm?.value?.name }}</p>
    <p><strong>Email:</strong> {{ profileForm?.value?.email }}</p>
    <p><strong>Contact Number:</strong> {{ profileForm?.value?.contactNumber }}</p>
    <p><strong>Date of Birth:</strong> {{ profileForm?.value?.dateOfBirth }}</p>
    <p><strong>Gender:</strong> {{ profileForm?.value?.gender }}</p>
    <p><strong>Medical Records:</strong> {{ profileForm?.value?.previousMedicalRecords || 'N/A' }}</p>

    <button class="btn btn-outline-danger mt-3" (click)="enableEdit()">Update Profile</button>
  </div>

  
  
  <form *ngIf="editing" [formGroup]="profileForm" (ngSubmit)="updateProfile()">
    <h4 class="mb-3" style="color: #b71c1c;">Update Profile</h4>
    <div class="mb-3"><input class="form-control" formControlName="name" placeholder="Name" /></div>
    <div class="mb-3"><input class="form-control" formControlName="email" placeholder="Email" type="email" /></div>
    <div class="mb-3"><input class="form-control" formControlName="contactNumber" placeholder="Contact Number" /></div>
    <div class="mb-3"><input class="form-control" formControlName="dateOfBirth" type="date" /></div>
    <div class="mb-3">
      <select class="form-select" formControlName="gender">
        <option value="Male">Male</option>
        <option value="Female">Female</option>
      </select>
    </div>
    <div class="mb-3"><textarea class="form-control" formControlName="previousMedicalRecords" rows="3" placeholder="Medical Records(History)"></textarea></div>
    <div class="mb-3">
      <input class="form-control" type="password" formControlName="password" placeholder="Password(Required)" />
    </div>

    <button class="btn btn-success w-100" [disabled]="profileForm.invalid">Save Changes</button>
    <button type="button" class="btn btn-danger w-100 mt-2" (click)="cancelEdit()">Cancel</button>

  </form>


  <div [ngClass]="{ 'text-success': success, 'text-danger': !success }" class="mt-2" *ngIf="message">
  {{ message }}
  </div>
</div>
